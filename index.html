<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Reinforcement Learning Playground</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="hero">
    <h1>Reinforcement Learning Playground</h1>
    <p>
      Experiment with Q-learning on a tiny grid world. Tune the hyperparameters,
      watch the agent learn in real-time, and inspect the evolving Q-table.
    </p>
  </header>

  <main class="layout">
    <section class="controls panel">
      <h2>Training Controls</h2>
      <div class="field">
        <label for="alpha">Learning Rate (α)</label>
        <input type="range" id="alpha" min="0.05" max="1" value="0.3" step="0.05" />
        <span id="alpha-value">0.30</span>
      </div>
      <div class="field">
        <label for="gamma">Discount (γ)</label>
        <input type="range" id="gamma" min="0.5" max="0.99" value="0.9" step="0.01" />
        <span id="gamma-value">0.90</span>
      </div>
      <div class="field">
        <label for="epsilon">Exploration (ε)</label>
        <input type="range" id="epsilon" min="0" max="1" value="0.2" step="0.05" />
        <span id="epsilon-value">0.20</span>
      </div>
      <div class="field">
        <label for="speed">Speed (ms per step)</label>
        <input type="range" id="speed" min="0" max="600" value="200" step="20" />
        <span id="speed-value">200</span>
      </div>
      <div class="actions">
        <button id="start">Start Training</button>
        <button id="stop" disabled>Pause</button>
        <button id="reset">Reset</button>
      </div>
      <div class="stats">
        <div><span>Episode:</span> <strong id="episode">0</strong></div>
        <div><span>Steps (current):</span> <strong id="steps">0</strong></div>
        <div><span>Total Reward (current):</span> <strong id="reward">0</strong></div>
        <div><span>Exploration Rate:</span> <strong id="epsilon-live">0.20</strong></div>
      </div>
      <details class="info">
        <summary>How it works</summary>
        <p>
          The agent starts in the top-left corner of the grid and attempts to reach
          the goal in the bottom-right corner. Each move costs -1 reward, colliding
          with a wall leaves the agent in place, and reaching the goal yields +10.
          The Q-table captures the value of taking each action from each state.
        </p>
      </details>
    </section>

    <section class="visuals">
      <div class="canvas-wrapper panel">
        <h2>Environment</h2>
        <canvas id="world" width="400" height="400" aria-label="Grid world"></canvas>
      </div>
      <div class="panel table-panel">
        <h2>Q-table</h2>
        <div id="q-table" aria-live="polite"></div>
      </div>
    </section>
  </main>

  <footer>
    <p>
      Built for curious learners. Modify the code and extend the environment to try
      new reward structures or policies!
    </p>
  </footer>

  <script src="app.js"></script>
</body>
</html>
